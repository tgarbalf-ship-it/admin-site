<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ØªÙ‚Ø¯ÙŠÙ… Ø¥Ø¯Ø§Ø±Ø© Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯</title>
<style>
body{
background:#0f0f0f;
color:white;
font-family:Arial;
text-align:center;
margin:0;
padding:0;
}
.container{
max-width:400px;
margin:30px auto;
background:#1c1c1c;
padding:20px;
border-radius:15px;
box-shadow:0 0 20px #00ff99;
}
h2{margin-bottom:15px;}
input,textarea{
width:100%;
padding:10px;
margin:6px 0;
border:none;
border-radius:8px;
background:#222;
color:white;
}
button{
background:#00ff99;
border:none;
padding:10px;
width:100%;
border-radius:8px;
cursor:pointer;
font-weight:bold;
margin-top:8px;
}
button:hover{background:#00cc77;}
.adminPanel{display:none;margin-top:20px;}
.application{
background:#222;
padding:10px;
margin:10px 0;
border-radius:8px;
text-align:right;
}
.accept{background:green;margin-top:5px;}
.reject{background:red;margin-top:5px;}
.pending{background:#444;margin-top:5px;}
.status{margin-top:5px;font-weight:bold;}
.backBtn{background:#00ff99;border:none;padding:8px;margin:6px 0;border-radius:8px;cursor:pointer;width:100%;}
.backBtn:hover{background:#00cc77;}
</style>
</head>
<body>

<div class="container">
<h2>ØªÙ‚Ø¯ÙŠÙ… Ø¥Ø¯Ø§Ø±Ø© Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯</h2>

<div id="applySection">
<input type="text" id="name" placeholder="Ø§Ø³Ù…Ùƒ ÙÙŠ Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯" required>
<input type="number" id="age" placeholder="Ø¹Ù…Ø±Ùƒ" required>
<textarea id="reason" placeholder="Ù„ÙŠØ´ ØªØ¨ÙŠ Ø¥Ø¯Ø§Ø±Ø©ØŸ" required></textarea>
<button onclick="submitApp()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</button>
<button onclick="showLogin()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
</div>

<div id="loginSection" style="display:none;">
<input type="password" id="adminPass" placeholder="ÙƒÙ„Ù…Ø© Ø³Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©">
<button onclick="checkPass()">Ø¯Ø®ÙˆÙ„</button>
</div>

<div class="adminPanel" id="adminPanel">
<h3>Ù„ÙˆØ­Ø© Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…Ø§Øª</h3>
<button class="backBtn" onclick="showApplications()">Ø§Ù„Ø·Ù„Ø¨Ø§Øª</button>
<div id="applications"></div>
<button onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
</div>
</div>

<script>
const discordLink = "https://discord.gg/kdy3fkbKX9";
const adminPass = "RUN"; // ÙƒÙ„Ù…Ø© Ø³Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
function loadData(){return JSON.parse(localStorage.getItem("applications")||"[]");}
function saveData(data){localStorage.setItem("applications",JSON.stringify(data));}

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
function submitApp(){
let name=document.getElementById("name").value.trim();
let age=document.getElementById("age").value.trim();
let reason=document.getElementById("reason").value.trim();
if(!name||!age||!reason){alert("Ø§ÙƒÙ…Ù„ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");return;}

let data=loadData();
if(data.find(d=>d.name===name)){alert("Ø§Ù†Øª Ù‚Ø¯Ù…Øª Ù…Ù† Ù‚Ø¨Ù„");return;}

data.push({id:Date.now(),name,age,reason,status:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"});
saveData(data);
alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­");
document.getElementById("name").value="";
document.getElementById("age").value="";
document.getElementById("reason").value="";
}

// Ø¥Ø¸Ù‡Ø§Ø± Ù„ÙˆØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„
function showLogin(){document.getElementById("loginSection").style.display="block";}

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
function checkPass(){
let pass=document.getElementById("adminPass").value;
if(pass!==adminPass){alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙ„Ø·");return;}
document.getElementById("applySection").style.display="none";
document.getElementById("loginSection").style.display="none";
document.getElementById("adminPanel").style.display="block";
showApplications();
}

// Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
function showApplications(){
let container=document.getElementById("applications");
container.innerHTML="";
let data=loadData();
if(data.length===0){container.innerHTML="Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª"; return;}

data.forEach((app,index)=>{
let div=document.createElement("div");
div.className="application";
div.innerHTML=`<b>Ø§Ù„Ø§Ø³Ù…:</b> ${app.name}<br>
<b>Ø§Ù„Ø¹Ù…Ø±:</b> ${app.age}<br>
<b>Ø§Ù„Ø³Ø¨Ø¨:</b> ${app.reason}<br>
<div class="status">Ø§Ù„Ø­Ø§Ù„Ø©: ${app.status}</div>
<button class="accept" onclick="updateStatus(${app.id},'Ù…Ù‚Ø¨ÙˆÙ„')">Ù‚Ø¨ÙˆÙ„</button>
<button class="reject" onclick="updateStatus(${app.id},'Ù…Ø±ÙÙˆØ¶')">Ø±ÙØ¶</button>`;
if(app.status==="Ù…Ù‚Ø¨ÙˆÙ„"){
div.innerHTML+=`<br><a href="${discordLink}" target="_blank" style="color:#00ff99;font-weight:bold;">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±</a>`;
}
container.appendChild(div);
});
}

// ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©
function updateStatus(id,status){
let data=loadData();
let app=data.find(d=>d.id===id);
if(app) app.status=status;
saveData(data);
showApplications();
}

// ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬
function logout(){location.reload();}
</script>

</body>
</html><button onclick="checkStatus()">ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„ØªÙŠ</button>
<button onclick="adminLogin()">Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
</div>

<div id="status"></div>
<div id="adminPanel" style="display:none;"></div>
<div id="recordsPanel" style="display:none;"></div>
</div>

<script>
const discordLink = "https://discord.gg/kdy3fkbKX9";
const adminPass = "RUN";

// Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø© ÙÙŠ LocalStorage
function loadData(){ return JSON.parse(localStorage.getItem('Ø·Ù„Ø¨Ø§Øª')||'[]'); }
function saveData(data){ localStorage.setItem('Ø·Ù„Ø¨Ø§Øª', JSON.stringify(data)); }

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
function submitApp(){
  let name=document.getElementById("name").value.trim();
  let age=document.getElementById("age").value.trim();
  let reason=document.getElementById("reason").value.trim();
  let experience=document.getElementById("experience").value.trim();
  let handling=document.getElementById("handling").value.trim();
  if(!name||!age||!reason||!experience||!handling){alert("Ø§ÙƒÙ…Ù„ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");return;}

  let data = loadData();
  if(data.find(d=>d.Ø§Ù„Ø§Ø³Ù…===name)){alert("Ø§Ù†Øª Ù‚Ø¯Ù…Øª Ù…Ù† Ù‚Ø¨Ù„"); return;}

  let newApp={id:Date.now(), Ø§Ù„Ø§Ø³Ù…:name, Ø§Ù„Ø¹Ù…Ø±:age, Ø³Ø¨Ø¨_Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…:reason, Ø§Ù„Ø®Ø¨Ø±Ø©:experience, Ø§Ù„ØªØ¹Ø§Ù…Ù„:handling, Ø§Ù„Ø­Ø§Ù„Ø©:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"};
  data.push(newApp); saveData(data);
  alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ");
}

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
function checkStatus(){
  let name=document.getElementById("name").value.trim();
  if(!name){alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ"); return;}
  let data=loadData();
  let app=data.find(d=>d.Ø§Ù„Ø§Ø³Ù…===name);
  let statusDiv=document.getElementById("status");
  if(!app){statusDiv.innerHTML="Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø¨ Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù…"; return;}
  if(app.Ø§Ù„Ø­Ø§Ù„Ø©==="Ù…Ù‚Ø¨ÙˆÙ„"){statusDiv.innerHTML=`<div class="success">ğŸ‰ ØªÙ… Ù‚Ø¨ÙˆÙ„Ùƒ!<br>Ø§Ø¶ØºØ· Ù„Ù„Ø¯Ø®ÙˆÙ„:<br><a href="${discordLink}" target="_blank" style="color:#00ff99;">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±</a></div>`;}
  else if(app.Ø§Ù„Ø­Ø§Ù„Ø©==="Ù…Ø±ÙÙˆØ¶"){statusDiv.innerHTML="âŒ ØªÙ… Ø±ÙØ¶ Ø·Ù„Ø¨Ùƒ";}
  else{statusDiv.innerHTML=`<div class="pending">â³ Ø·Ù„Ø¨Ùƒ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</div>`;}
}

// ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
function adminLogin(){
  let pass=prompt("Ø§Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø³Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©");
  if(pass!==adminPass){alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙ„Ø·");return;}
  document.getElementById("applySection").style.display="none";
  document.getElementById("adminPanel").style.display="block";
  loadApps();
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
function loadApps(){
  let panel=document.getElementById("adminPanel");
  panel.innerHTML="<h3>Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h3><button class='topButton' onclick='showRecords()'>Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„ÙˆÙ†/Ø§Ù„Ù…Ø±ÙÙˆØ¶ÙˆÙ†</button>";
  let data=loadData();
  let pending=data.filter(d=>d.Ø§Ù„Ø­Ø§Ù„Ø©==="Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©");
  pending.forEach(app=>{
    let div=document.createElement("div");
    div.className="application"; div.id="app-"+app.id;
    div.innerHTML=`<b>${app.Ø§Ù„Ø§Ø³Ù…}</b><br>Ø§Ù„Ø¹Ù…Ø±: ${app.Ø§Ù„Ø¹Ù…Ø±}<br>${app.Ø³Ø¨Ø¨_Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…}<br>${app.Ø§Ù„Ø®Ø¨Ø±Ø©}<br>${app.Ø§Ù„ØªØ¹Ø§Ù…Ù„}<br>
      <button class="accept" onclick="updateStatus(${app.id},'Ù…Ù‚Ø¨ÙˆÙ„')">Ù‚Ø¨ÙˆÙ„</button>
      <button class="reject" onclick="updateStatus(${app.id},'Ù…Ø±ÙÙˆØ¶')">Ø±ÙØ¶</button>`;
    panel.appendChild(div);
  });
}

// ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
function updateStatus(id,status){
  let data=loadData();
  let app=data.find(d=>d.id===id);
  if(app) app.Ø§Ù„Ø­Ø§Ù„Ø©=status;
  saveData(data);
  loadApps(); showRecords();
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„ÙŠÙ† ÙˆØ§Ù„Ù…Ø±ÙÙˆØ¶ÙŠÙ†
function showRecords(){
  document.getElementById("adminPanel").style.display="none";
  let panel=document.getElementById("recordsPanel");
  panel.style.display="block";
  panel.innerHTML='<div class="backBtn" onclick="backToAdmin()">Ø±Ø¬ÙˆØ¹</div><h3>Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„ÙˆÙ† ÙˆØ§Ù„Ù…Ø±ÙÙˆØ¶ÙˆÙ†</h3>';
  let data=loadData();
  let others=data.filter(d=>d.Ø§Ù„Ø­Ø§Ù„Ø©!=="Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©");
  others.forEach(app=>{
    let div=document.createElement("div");
    div.className="application"; div.id="record-"+app.id;
    div.innerHTML=`<b>${app.Ø§Ù„Ø§Ø³Ù…}</b><br>Ø§Ù„Ø¹Ù…Ø±: ${app.Ø§Ù„Ø¹Ù…Ø±}<br>${app.Ø³Ø¨Ø¨_Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…}<br>${app.Ø§Ù„Ø®Ø¨Ø±Ø©}<br>${app.Ø§Ù„ØªØ¹Ø§Ù…Ù„}<br>Ø§Ù„Ø­Ø§Ù„Ø©: ${app.Ø§Ù„Ø­Ø§Ù„Ø©}<br>
      <button class="accept" onclick="updateStatus(${app.id},'Ù…Ù‚Ø¨ÙˆÙ„')">Ù‚Ø¨ÙˆÙ„</button>
      <button class="reject" onclick="updateStatus(${app.id},'Ù…Ø±ÙÙˆØ¶')">Ø±ÙØ¶</button>`;
    panel.appendChild(div);
  });
}

function backToAdmin(){document.getElementById("recordsPanel").style.display="none"; document.getElementById("adminPanel").style.display="block";}
</script>
</body>
</html><button onclick="checkStatus()">ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„ØªÙŠ</button>
<button onclick="adminLogin()">Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
</div>

<div id="status"></div>
<div id="adminPanel" style="display:none;"></div>
<div id="recordsPanel" style="display:none;"></div>
</div>

<script>
const discordLink = "https://discord.gg/kdy3fkbKX9";
const adminPass = "RUN";

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† LocalStorage
function loadData(){
  let data = localStorage.getItem('Ø·Ù„Ø¨Ø§Øª');
  if(!data) return [];
  return JSON.parse(data);
}

// Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ LocalStorage
function saveData(data){
  localStorage.setItem('Ø·Ù„Ø¨Ø§Øª', JSON.stringify(data));
}

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
function submitApp(){
  let name = document.getElementById("name").value.trim();
  let age = document.getElementById("age").value.trim();
  let reason = document.getElementById("reason").value.trim();
  let experience = document.getElementById("experience").value.trim();
  let handling = document.getElementById("handling").value.trim();
  if(!name||!age||!reason||!experience||!handling){alert("Ø§ÙƒÙ…Ù„ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");return;}

  let data = loadData();
  if(data.find(d=>d.Ø§Ù„Ø§Ø³Ù…===name)){alert("Ø§Ù†Øª Ù‚Ø¯Ù…Øª Ù…Ù† Ù‚Ø¨Ù„");return;}

  let newApp = {
    id: Date.now(),
    Ø§Ù„Ø§Ø³Ù…: name,
    Ø§Ù„Ø¹Ù…Ø±: age,
    Ø³Ø¨Ø¨_Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…: reason,
    Ø§Ù„Ø®Ø¨Ø±Ø©: experience,
    Ø§Ù„ØªØ¹Ø§Ù…Ù„: handling,
    Ø§Ù„Ø­Ø§Ù„Ø©: "Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"
  };
  data.push(newApp);
  saveData(data);
  alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ");
}

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
function checkStatus(){
  let name = document.getElementById("name").value.trim();
  if(!name){alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ");return;}
  let data = loadData();
  let app = data.find(d=>d.Ø§Ù„Ø§Ø³Ù…===name);
  let statusDiv = document.getElementById("status");
  if(!app){statusDiv.innerHTML="Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø¨ Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù…"; return;}
  if(app.Ø§Ù„Ø­Ø§Ù„Ø©==="Ù…Ù‚Ø¨ÙˆÙ„"){
    statusDiv.innerHTML=`<div class="success">ğŸ‰ ØªÙ… Ù‚Ø¨ÙˆÙ„Ùƒ!<br>Ø§Ø¶ØºØ· Ù„Ù„Ø¯Ø®ÙˆÙ„:<br><a href="${discordLink}" target="_blank" style="color:#00ff99;">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±</a></div>`;
  }else if(app.Ø§Ù„Ø­Ø§Ù„Ø©==="Ù…Ø±ÙÙˆØ¶"){
    statusDiv.innerHTML="âŒ ØªÙ… Ø±ÙØ¶ Ø·Ù„Ø¨Ùƒ";
  }else{
    statusDiv.innerHTML=`<div class="pending">â³ Ø·Ù„Ø¨Ùƒ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</div>`;
  }
}

// ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
function adminLogin(){
  let pass = prompt("Ø§Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø³Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©");
  if(pass!==adminPass){alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙ„Ø·");return;}
  document.getElementById("applySection").style.display="none";
  document.getElementById("adminPanel").style.display="block";
  loadApps();
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
function loadApps(){
  let panel=document.getElementById("adminPanel");
  panel.innerHTML="<h3>Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h3><button class='topButton' onclick='showRecords()'>Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„ÙˆÙ†/Ø§Ù„Ù…Ø±ÙÙˆØ¶ÙˆÙ†</button>";
  let data = loadData();
  let pending = data.filter(d=>d.Ø§Ù„Ø­Ø§Ù„Ø©==="Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©");
  pending.forEach(app=>{
    panel.innerHTML+=`<div class="application" id="app-${app.id}"><b>${app.Ø§Ù„Ø§Ø³Ù…}</b><br>Ø§Ù„Ø¹Ù…Ø±: ${app.Ø§Ù„Ø¹Ù…Ø±}<br>${app.Ø³Ø¨Ø¨_Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…}<br>${app.Ø§Ù„Ø®Ø¨Ø±Ø©}<br>${app.Ø§Ù„ØªØ¹Ø§Ù…Ù„}<br>
    <button class="accept" onclick="updateStatus(${app.id},'Ù…Ù‚Ø¨ÙˆÙ„')">Ù‚Ø¨ÙˆÙ„</button>
    <button class="reject" onclick="updateStatus(${app.id},'Ù…Ø±ÙÙˆØ¶')">Ø±ÙØ¶</button></div>`;
  });
}

// ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
function updateStatus(id,status){
  let data = loadData();
  let app = data.find(d=>d.id===id);
  if(app) app.Ø§Ù„Ø­Ø§Ù„Ø© = status;
  saveData(data);
  loadApps();
  showRecords();
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„ÙŠÙ† ÙˆØ§Ù„Ù…Ø±ÙÙˆØ¶ÙŠÙ†
function showRecords(){
  document.getElementById("adminPanel").style.display="none";
  let panel=document.getElementById("recordsPanel");
  panel.style.display="block";
  panel.innerHTML='<div class="backBtn" onclick="backToAdmin()">Ø±Ø¬ÙˆØ¹</div><h3>Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„ÙˆÙ† ÙˆØ§Ù„Ù…Ø±ÙÙˆØ¶ÙˆÙ†</h3>';
  let data = loadData();
  let others = data.filter(d=>d.Ø§Ù„Ø­Ø§Ù„Ø©!=="Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©");
  others.forEach(app=>{
    panel.innerHTML+=`<div class="application" id="record-${app.id}"><b>${app.Ø§Ù„Ø§Ø³Ù…}</b><br>Ø§Ù„Ø¹Ù…Ø±: ${app.Ø§Ù„Ø¹Ù…Ø±}<br>${app.Ø³Ø¨Ø¨_Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…}<br>${app.Ø§Ù„Ø®Ø¨Ø±Ø©}<br>${app.Ø§Ù„ØªØ¹Ø§Ù…Ù„}<br>Ø§Ù„Ø­Ø§Ù„Ø©: ${app.Ø§Ù„Ø­Ø§Ù„Ø©}<br>
    <button class="accept" onclick="updateStatus(${app.id},'Ù…Ù‚Ø¨ÙˆÙ„')">Ù‚Ø¨ÙˆÙ„</button>
    <button class="reject" onclick="updateStatus(${app.id},'Ù…Ø±ÙÙˆØ¶')">Ø±ÙØ¶</button></div>`;
  });
}

function backToAdmin(){
  document.getElementById("recordsPanel").style.display="none";
  document.getElementById("adminPanel").style.display="block";
}
</script>
</body>
</html><button onclick="checkStatus()">ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„ØªÙŠ</button>
<button onclick="adminLogin()">Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
</div>

<div id="status"></div>
<div id="adminPanel" style="display:none;"></div>
<div id="recordsPanel" style="display:none;"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
// Ø¥Ø¹Ø¯Ø§Ø¯ Supabase
const supabaseUrl = "https://ygfbxlasagrnhvrbapiq.supabase.co";
const supabaseKey = "sb_publishable_aBt0lYzYB2-lHZQ8tOU4xg_4GcM-udx";
const supabase = supabase.createClient(supabaseUrl, supabaseKey);

const discordLink = "https://discord.gg/kdy3fkbKX9";
const adminPass = "RUN";

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
async function submitApp(){
  let name = document.getElementById("name").value.trim();
  let age = document.getElementById("age").value.trim();
  let reason = document.getElementById("reason").value.trim();
  let experience = document.getElementById("experience").value.trim();
  let handling = document.getElementById("handling").value.trim();
  if(!name||!age||!reason||!experience||!handling){alert("Ø§ÙƒÙ…Ù„ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");return;}
  
  // ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙƒØ±Ø§Ø±
  let { data: existing } = await supabase
    .from('Ø·Ù„Ø¨Ø§Øª')
    .select('id')
    .eq('Ø§Ù„Ø§Ø³Ù…', name)
    .single();
  if(existing){alert("Ø§Ù†Øª Ù‚Ø¯Ù…Øª Ù…Ù† Ù‚Ø¨Ù„"); return;}
  
  // Ø£Ø±Ø³Ù„ Ø§Ù„Ø·Ù„Ø¨
  await supabase.from('Ø·Ù„Ø¨Ø§Øª').insert([{
    Ø§Ù„Ø§Ø³Ù…: name,
    Ø§Ù„Ø¹Ù…Ø±: age,
    Ø³Ø¨Ø¨_Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…: reason,
    Ø§Ù„Ø®Ø¨Ø±Ø©: experience,
    Ø§Ù„ØªØ¹Ø§Ù…Ù„: handling,
    Ø§Ù„Ø­Ø§Ù„Ø©: "Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"
  }]);
  
  alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ");
}

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
async function checkStatus(){
  let name = document.getElementById("name").value.trim();
  if(!name){alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ");return;}
  let { data: app } = await supabase
    .from('Ø·Ù„Ø¨Ø§Øª')
    .select('*')
    .eq('Ø§Ù„Ø§Ø³Ù…', name)
    .single();
  let statusDiv = document.getElementById("status");
  if(!app){statusDiv.innerHTML="Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø¨ Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù…"; return;}
  if(app.Ø§Ù„Ø­Ø§Ù„Ø©==="Ù…Ù‚Ø¨ÙˆÙ„"){
    statusDiv.innerHTML=`<div class="success">ğŸ‰ ØªÙ… Ù‚Ø¨ÙˆÙ„Ùƒ!<br>Ø§Ø¶ØºØ· Ù„Ù„Ø¯Ø®ÙˆÙ„:<br><a href="${discordLink}" target="_blank" style="color:#00ff99;">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±</a></div>`;
  }else if(app.Ø§Ù„Ø­Ø§Ù„Ø©==="Ù…Ø±ÙÙˆØ¶"){
    statusDiv.innerHTML="âŒ ØªÙ… Ø±ÙØ¶ Ø·Ù„Ø¨Ùƒ";
  }else{
    statusDiv.innerHTML=`<div class="pending">â³ Ø·Ù„Ø¨Ùƒ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</div>`;
  }
}

// ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
async function adminLogin(){
  let pass = prompt("Ø§Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø³Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©");
  if(pass!==adminPass){alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙ„Ø·");return;}
  document.getElementById("applySection").style.display="none";
  document.getElementById("adminPanel").style.display="block";
  loadApps();
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
async function loadApps(){
  let panel=document.getElementById("adminPanel");
  panel.innerHTML="<h3>Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h3>";
  panel.innerHTML+='<button class="topButton" onclick="showRecords()">Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„ÙˆÙ†/Ø§Ù„Ù…Ø±ÙÙˆØ¶ÙˆÙ†</button>';
  let { data: apps } = await supabase.from('Ø·Ù„Ø¨Ø§Øª').select('*').eq('Ø§Ù„Ø­Ø§Ù„Ø©','Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©');
  apps.forEach(app=>{
    panel.innerHTML+=`<div class="application" id="app-${app.id}"><b>${app.Ø§Ù„Ø§Ø³Ù…}</b><br>Ø§Ù„Ø¹Ù…Ø±: ${app.Ø§Ù„Ø¹Ù…Ø±}<br>${app.Ø³Ø¨Ø¨_Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…}<br>${app.Ø§Ù„Ø®Ø¨Ø±Ø©}<br>${app.Ø§Ù„ØªØ¹Ø§Ù…Ù„}<br>
    <button class="accept" onclick="updateStatus(${app.id},'Ù…Ù‚Ø¨ÙˆÙ„')">Ù‚Ø¨ÙˆÙ„</button>
    <button class="reject" onclick="updateStatus(${app.id},'Ù…Ø±ÙÙˆØ¶')">Ø±ÙØ¶</button></div>`;
  });
}

// ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
async function updateStatus(id,status){
  await supabase.from('Ø·Ù„Ø¨Ø§Øª').update({Ø§Ù„Ø­Ø§Ù„Ø©:status}).eq('id',id);
  let elem=document.getElementById("app-"+id) || document.getElementById("record-"+id);
  if(elem) elem.style.display="none";
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„ÙŠÙ† ÙˆØ§Ù„Ù…Ø±ÙÙˆØ¶ÙŠÙ†
async function showRecords(){
  document.getElementById("adminPanel").style.display="none";
  let panel=document.getElementById("recordsPanel");
  panel.style.display="block";
  panel.innerHTML='<div class="backBtn" onclick="backToAdmin()">Ø±Ø¬ÙˆØ¹</div><h3>Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„ÙˆÙ† ÙˆØ§Ù„Ù…Ø±ÙÙˆØ¶ÙˆÙ†</h3>';
  let { data: apps } = await supabase.from('Ø·Ù„Ø¨Ø§Øª').select('*').neq('Ø§Ù„Ø­Ø§Ù„Ø©','Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©');
  apps.forEach(app=>{
    panel.innerHTML+=`<div class="application" id="record-${app.id}"><b>${app.Ø§Ù„Ø§Ø³Ù…}</b><br>Ø§Ù„Ø¹Ù…Ø±: ${app.Ø§Ù„Ø¹Ù…Ø±}<br>${app.Ø³Ø¨Ø¨_Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…}<br>${app.Ø§Ù„Ø®Ø¨Ø±Ø©}<br>${app.Ø§Ù„ØªØ¹Ø§Ù…Ù„}<br>Ø§Ù„Ø­Ø§Ù„Ø©: ${app.Ø§Ù„Ø­Ø§Ù„Ø©}<br>
    <button class="accept" onclick="updateStatus(${app.id},'Ù…Ù‚Ø¨ÙˆÙ„')">Ù‚Ø¨ÙˆÙ„</button>
    <button class="reject" onclick="updateStatus(${app.id},'Ù…Ø±ÙÙˆØ¶')">Ø±ÙØ¶</button></div>`;
  });
}

function backToAdmin(){
  document.getElementById("recordsPanel").style.display="none";
  document.getElementById("adminPanel").style.display="block";
}
</script>
</body>
</html><button onclick="checkStatus()">ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„ØªÙŠ</button>
<button onclick="adminLogin()">Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
</div>

<div id="status"></div>
<div id="adminPanel" style="display:none;"></div>
<div id="recordsPanel" style="display:none;"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
// Ø¥Ø¹Ø¯Ø§Ø¯ Supabase
const supabaseUrl = "https://ygfbxlasagrnhvrbapiq.supabase.co";
const supabaseKey = "sb_publishable_aBt0lYzYB2-lHZQ8tOU4xg_4GcM-udx";
const supabase = supabase.createClient(supabaseUrl, supabaseKey);

const discordLink = "https://discord.gg/kdy3fkbKX9";
const adminPass = "RUN";

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
async function submitApp(){
  let name = document.getElementById("name").value.trim();
  let age = document.getElementById("age").value.trim();
  let reason = document.getElementById("reason").value.trim();
  let experience = document.getElementById("experience").value.trim();
  let handling = document.getElementById("handling").value.trim();
  if(!name||!age||!reason||!experience||!handling){alert("Ø§ÙƒÙ…Ù„ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");return;}
  
  // ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙƒØ±Ø§Ø±
  let { data: existing } = await supabase
    .from('Ø·Ù„Ø¨Ø§Øª')
    .select('id')
    .eq('Ø§Ù„Ø§Ø³Ù…', name)
    .single();
  if(existing){alert("Ø§Ù†Øª Ù‚Ø¯Ù…Øª Ù…Ù† Ù‚Ø¨Ù„"); return;}
  
  // Ø£Ø±Ø³Ù„ Ø§Ù„Ø·Ù„Ø¨
  await supabase.from('Ø·Ù„Ø¨Ø§Øª').insert([{
    Ø§Ù„Ø§Ø³Ù…: name,
    Ø§Ù„Ø¹Ù…Ø±: age,
    Ø³Ø¨Ø¨_Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…: reason,
    Ø§Ù„Ø®Ø¨Ø±Ø©: experience,
    Ø§Ù„ØªØ¹Ø§Ù…Ù„: handling,
    Ø§Ù„Ø­Ø§Ù„Ø©: "Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"
  }]);
  
  alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ");
}

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
async function checkStatus(){
  let name = document.getElementById("name").value.trim();
  if(!name){alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ");return;}
  let { data: app } = await supabase
    .from('Ø·Ù„Ø¨Ø§Øª')
    .select('*')
    .eq('Ø§Ù„Ø§Ø³Ù…', name)
    .single();
  let statusDiv = document.getElementById("status");
  if(!app){statusDiv.innerHTML="Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø¨ Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù…"; return;}
  if(app.Ø§Ù„Ø­Ø§Ù„Ø©==="Ù…Ù‚Ø¨ÙˆÙ„"){
    statusDiv.innerHTML=`<div class="success">ğŸ‰ ØªÙ… Ù‚Ø¨ÙˆÙ„Ùƒ!<br>Ø§Ø¶ØºØ· Ù„Ù„Ø¯Ø®ÙˆÙ„:<br><a href="${discordLink}" target="_blank" style="color:#00ff99;">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±</a></div>`;
  }else if(app.Ø§Ù„Ø­Ø§Ù„Ø©==="Ù…Ø±ÙÙˆØ¶"){
    statusDiv.innerHTML="âŒ ØªÙ… Ø±ÙØ¶ Ø·Ù„Ø¨Ùƒ";
  }else{
    statusDiv.innerHTML=`<div class="pending">â³ Ø·Ù„Ø¨Ùƒ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</div>`;
  }
}

// ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
async function adminLogin(){
  let pass = prompt("Ø§Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø³Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©");
  if(pass!==adminPass){alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙ„Ø·");return;}
  document.getElementById("applySection").style.display="none";
  document.getElementById("adminPanel").style.display="block";
  loadApps();
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
async function loadApps(){
  let panel=document.getElementById("adminPanel");
  panel.innerHTML="<h3>Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h3>";
  panel.innerHTML+='<button class="topButton" onclick="showRecords()">Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„ÙˆÙ†/Ø§Ù„Ù…Ø±ÙÙˆØ¶ÙˆÙ†</button>';
  let { data: apps } = await supabase.from('Ø·Ù„Ø¨Ø§Øª').select('*').eq('Ø§Ù„Ø­Ø§Ù„Ø©','Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©');
  apps.forEach(app=>{
    panel.innerHTML+=`<div class="application" id="app-${app.id}"><b>${app.Ø§Ù„Ø§Ø³Ù…}</b><br>Ø§Ù„Ø¹Ù…Ø±: ${app.Ø§Ù„Ø¹Ù…Ø±}<br>${app.Ø³Ø¨Ø¨_Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…}<br>${app.Ø§Ù„Ø®Ø¨Ø±Ø©}<br>${app.Ø§Ù„ØªØ¹Ø§Ù…Ù„}<br>
    <button class="accept" onclick="updateStatus(${app.id},'Ù…Ù‚Ø¨ÙˆÙ„')">Ù‚Ø¨ÙˆÙ„</button>
    <button class="reject" onclick="updateStatus(${app.id},'Ù…Ø±ÙÙˆØ¶')">Ø±ÙØ¶</button></div>`;
  });
}

// ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
async function updateStatus(id,status){
  await supabase.from('Ø·Ù„Ø¨Ø§Øª').update({Ø§Ù„Ø­Ø§Ù„Ø©:status}).eq('id',id);
  let elem=document.getElementById("app-"+id) || document.getElementById("record-"+id);
  if(elem) elem.style.display="none";
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„ÙŠÙ† ÙˆØ§Ù„Ù…Ø±ÙÙˆØ¶ÙŠÙ†
async function showRecords(){
  document.getElementById("adminPanel").style.display="none";
  let panel=document.getElementById("recordsPanel");
  panel.style.display="block";
  panel.innerHTML='<div class="backBtn" onclick="backToAdmin()">Ø±Ø¬ÙˆØ¹</div><h3>Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„ÙˆÙ† ÙˆØ§Ù„Ù…Ø±ÙÙˆØ¶ÙˆÙ†</h3>';
  let { data: apps } = await supabase.from('Ø·Ù„Ø¨Ø§Øª').select('*').neq('Ø§Ù„Ø­Ø§Ù„Ø©','Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©');
  apps.forEach(app=>{
    panel.innerHTML+=`<div class="application" id="record-${app.id}"><b>${app.Ø§Ù„Ø§Ø³Ù…}</b><br>Ø§Ù„Ø¹Ù…Ø±: ${app.Ø§Ù„Ø¹Ù…Ø±}<br>${app.Ø³Ø¨Ø¨_Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…}<br>${app.Ø§Ù„Ø®Ø¨Ø±Ø©}<br>${app.Ø§Ù„ØªØ¹Ø§Ù…Ù„}<br>Ø§Ù„Ø­Ø§Ù„Ø©: ${app.Ø§Ù„Ø­Ø§Ù„Ø©}<br>
    <button class="accept" onclick="updateStatus(${app.id},'Ù…Ù‚Ø¨ÙˆÙ„')">Ù‚Ø¨ÙˆÙ„</button>
    <button class="reject" onclick="updateStatus(${app.id},'Ù…Ø±ÙÙˆØ¶')">Ø±ÙØ¶</button></div>`;
  });
}

function backToAdmin(){
  document.getElementById("recordsPanel").style.display="none";
  document.getElementById("adminPanel").style.display="block";
}
</script>
</body>
</html><button onclick="checkStatus()">ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„ØªÙŠ</button>
<button onclick="adminLogin()">Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
</div>

<div id="status"></div>
<div id="adminPanel" style="display:none;"></div>
<div id="recordsPanel" style="display:none;"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
// Ø¥Ø¹Ø¯Ø§Ø¯ Supabase
const supabaseUrl = "https://ygfbxlasagrnhvrbapiq.supabase.co";
const supabaseKey = "sb_publishable_aBt0lYzYB2-lHZQ8tOU4xg_4GcM-udx";
const supabase = supabase.createClient(supabaseUrl, supabaseKey);

const discordLink = "https://discord.gg/kdy3fkbKX9";
const adminPass = "RUN";

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
async function submitApp(){
  let name = document.getElementById("name").value.trim();
  let age = document.getElementById("age").value.trim();
  let reason = document.getElementById("reason").value.trim();
  let experience = document.getElementById("experience").value.trim();
  let handling = document.getElementById("handling").value.trim();
  if(!name||!age||!reason||!experience||!handling){alert("Ø§ÙƒÙ…Ù„ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");return;}
  
  // ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙƒØ±Ø§Ø±
  let { data: existing } = await supabase
    .from('Ø·Ù„Ø¨Ø§Øª')
    .select('id')
    .eq('Ø§Ù„Ø§Ø³Ù…', name)
    .single();
  if(existing){alert("Ø§Ù†Øª Ù‚Ø¯Ù…Øª Ù…Ù† Ù‚Ø¨Ù„"); return;}
  
  // Ø£Ø±Ø³Ù„ Ø§Ù„Ø·Ù„Ø¨
  await supabase.from('Ø·Ù„Ø¨Ø§Øª').insert([{
    Ø§Ù„Ø§Ø³Ù…: name,
    Ø§Ù„Ø¹Ù…Ø±: age,
    Ø³Ø¨Ø¨_Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…: reason,
    Ø§Ù„Ø®Ø¨Ø±Ø©: experience,
    Ø§Ù„ØªØ¹Ø§Ù…Ù„: handling,
    Ø§Ù„Ø­Ø§Ù„Ø©: "Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"
  }]);
  
  alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ");
}

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
async function checkStatus(){
  let name = document.getElementById("name").value.trim();
  if(!name){alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ");return;}
  let { data: app } = await supabase
    .from('Ø·Ù„Ø¨Ø§Øª')
    .select('*')
    .eq('Ø§Ù„Ø§Ø³Ù…', name)
    .single();
  let statusDiv = document.getElementById("status");
  if(!app){statusDiv.innerHTML="Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø¨ Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù…"; return;}
  if(app.Ø§Ù„Ø­Ø§Ù„Ø©==="Ù…Ù‚Ø¨ÙˆÙ„"){
    statusDiv.innerHTML=`<div class="success">ğŸ‰ ØªÙ… Ù‚Ø¨ÙˆÙ„Ùƒ!<br>Ø§Ø¶ØºØ· Ù„Ù„Ø¯Ø®ÙˆÙ„:<br><a href="${discordLink}" target="_blank" style="color:#00ff99;">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±</a></div>`;
  }else if(app.Ø§Ù„Ø­Ø§Ù„Ø©==="Ù…Ø±ÙÙˆØ¶"){
    statusDiv.innerHTML="âŒ ØªÙ… Ø±ÙØ¶ Ø·Ù„Ø¨Ùƒ";
  }else{
    statusDiv.innerHTML=`<div class="pending">â³ Ø·Ù„Ø¨Ùƒ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</div>`;
  }
}

// ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
async function adminLogin(){
  let pass = prompt("Ø§Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø³Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©");
  if(pass!==adminPass){alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙ„Ø·");return;}
  document.getElementById("applySection").style.display="none";
  document.getElementById("adminPanel").style.display="block";
  loadApps();
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
async function loadApps(){
  let panel=document.getElementById("adminPanel");
  panel.innerHTML="<h3>Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h3>";
  panel.innerHTML+='<button class="topButton" onclick="showRecords()">Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„ÙˆÙ†/Ø§Ù„Ù…Ø±ÙÙˆØ¶ÙˆÙ†</button>';
  let { data: apps } = await supabase.from('Ø·Ù„Ø¨Ø§Øª').select('*').eq('Ø§Ù„Ø­Ø§Ù„Ø©','Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©');
  apps.forEach(app=>{
    panel.innerHTML+=`<div class="application" id="app-${app.id}"><b>${app.Ø§Ù„Ø§Ø³Ù…}</b><br>Ø§Ù„Ø¹Ù…Ø±: ${app.Ø§Ù„Ø¹Ù…Ø±}<br>${app.Ø³Ø¨Ø¨_Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…}<br>${app.Ø§Ù„Ø®Ø¨Ø±Ø©}<br>${app.Ø§Ù„ØªØ¹Ø§Ù…Ù„}<br>
    <button class="accept" onclick="updateStatus(${app.id},'Ù…Ù‚Ø¨ÙˆÙ„')">Ù‚Ø¨ÙˆÙ„</button>
    <button class="reject" onclick="updateStatus(${app.id},'Ù…Ø±ÙÙˆØ¶')">Ø±ÙØ¶</button></div>`;
  });
}

// ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
async function updateStatus(id,status){
  await supabase.from('Ø·Ù„Ø¨Ø§Øª').update({Ø§Ù„Ø­Ø§Ù„Ø©:status}).eq('id',id);
  document.getElementById("app-"+id).style.display="none";
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„ÙŠÙ† ÙˆØ§Ù„Ù…Ø±ÙÙˆØ¶ÙŠÙ†
async function showRecords(){
  document.getElementById("adminPanel").style.display="none";
  let panel=document.getElementById("recordsPanel");
  panel.style.display="block";
  panel.innerHTML='<div class="backBtn" onclick="backToAdmin()">Ø±Ø¬ÙˆØ¹</div><h3>Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„ÙˆÙ† ÙˆØ§Ù„Ù…Ø±ÙÙˆØ¶ÙˆÙ†</h3>';
  let { data: apps } = await supabase.from('Ø·Ù„Ø¨Ø§Øª').select('*').neq('Ø§Ù„Ø­Ø§Ù„Ø©','Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©');
  apps.forEach(app=>{
    panel.innerHTML+=`<div class="application" id="record-${app.id}"><b>${app.Ø§Ù„Ø§Ø³Ù…}</b><br>Ø§Ù„Ø¹Ù…Ø±: ${app.Ø§Ù„Ø¹Ù…Ø±}<br>${app.Ø³Ø¨Ø¨_Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…}<br>${app.Ø§Ù„Ø®Ø¨Ø±Ø©}<br>${app.Ø§Ù„ØªØ¹Ø§Ù…Ù„}<br>Ø§Ù„Ø­Ø§Ù„Ø©: ${app.Ø§Ù„Ø­Ø§Ù„Ø©}<br>
    <button class="accept" onclick="updateStatus(${app.id},'Ù…Ù‚Ø¨ÙˆÙ„')">Ù‚Ø¨ÙˆÙ„</button>
    <button class="reject" onclick="updateStatus(${app.id},'Ù…Ø±ÙÙˆØ¶')">Ø±ÙØ¶</button></div>`;
  });
}

function backToAdmin(){
  document.getElementById("recordsPanel").style.display="none";
  document.getElementById("adminPanel").style.display="block";
}
</script>
</body>
</html>
