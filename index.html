<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ØªÙ‚Ø¯ÙŠÙ… Ø¥Ø¯Ø§Ø±Ø© Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯</title>
<style>
body{background:#0f0f0f;color:white;font-family:Arial;text-align:center;margin:0;padding:0;}
.container{max-width:450px;margin:30px auto;background:#1c1c1c;padding:20px;border-radius:20px;box-shadow:0 0 25px #00ff99;}
h2{margin-bottom:15px;text-shadow:0 0 10px #00ff99;}
input,textarea{width:100%;padding:12px;margin:6px 0;border:none;border-radius:10px;background:#222;color:white;}
button{background:#00ff99;border:none;padding:12px;width:100%;border-radius:10px;margin-top:6px;cursor:pointer;font-weight:bold;box-shadow:0 0 10px #00ff99;}
button:hover{background:#00cc77;box-shadow:0 0 15px #00ff77;}
.application{background:#222;padding:10px;margin:10px 0;border-radius:10px;text-align:right;box-shadow:0 0 8px #00ff99;}
.accept{background:green;box-shadow:0 0 8px green;}
.reject{background:red;box-shadow:0 0 8px red;}
.success{background:#003300;padding:10px;border-radius:10px;margin-top:10px;box-shadow:0 0 10px #00ff99;}
.pending{animation:blink 1s infinite;}
@keyframes blink{0%{opacity:1;}50%{opacity:0.4;}100%{opacity:1;}}
</style>
</head>
<body>
<div class="container">
<h2>ØªÙ‚Ø¯ÙŠÙ… Ø¥Ø¯Ø§Ø±Ø©</h2>

<div id="applySection">
<input type="text" id="name" placeholder="Ø§Ø³Ù…Ùƒ ÙÙŠ Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯">
<textarea id="reason" placeholder="Ù„ÙŠØ´ ØªØ¨ÙŠ Ø¥Ø¯Ø§Ø±Ø©ØŸ"></textarea>
<button onclick="submitApp()">Ø¥Ø±Ø³Ø§Ù„</button>
<button onclick="checkStatus()">ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„ØªÙŠ</button>
<button onclick="adminLogin()">Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
</div>

<div id="status"></div>
<div id="adminPanel" style="display:none;"></div>
</div>

<script>
let adminPass="1234"; // ÙƒÙ„Ù…Ø© Ø³Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
let discordLink="https://discord.gg/kdy3fkbKX9";
let applications = JSON.parse(localStorage.getItem("applications") || "{}");

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…
function submitApp(){
let name=document.getElementById("name").value.trim();
let reason=document.getElementById("reason").value.trim();
if(!name||!reason){alert("Ø§ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");return;}
if(applications[name]){alert("Ø§Ù†Øª Ù‚Ø¯Ù…Øª Ù…Ù† Ù‚Ø¨Ù„");return;}
applications[name]={reason:reason,status:"pending",time:Date.now()};
localStorage.setItem("applications", JSON.stringify(applications));
alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ");
}

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
function checkStatus(){
let name=document.getElementById("name").value.trim();
if(!name){alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ");return;}
let statusDiv=document.getElementById("status");
if(!applications[name]){statusDiv.innerHTML="Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø¨ Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù…";return;}

let app = applications[name];
if(app.status==="accepted"){
statusDiv.innerHTML=`<div class="success">ğŸ‰ ØªÙ… Ù‚Ø¨ÙˆÙ„Ùƒ!<br>Ø§Ø¶ØºØ· Ù„Ù„Ø¯Ø®ÙˆÙ„:<br><a href="${discordLink}" target="_blank" style="color:#00ff99;">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±</a></div>`;
}else if(app.status==="rejected"){
statusDiv.innerHTML="âŒ ØªÙ… Ø±ÙØ¶ Ø·Ù„Ø¨Ùƒ";
}else{
let seconds=Math.floor((Date.now()-app.time)/1000);
statusDiv.innerHTML=`<div class="pending">â³ Ø·Ù„Ø¨Ùƒ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ù…Ù†Ø° ${seconds} Ø«Ø§Ù†ÙŠØ©</div>`;
}
}

// ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
function adminLogin(){
let pass=prompt("Ø§Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø³Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©");
if(pass!==adminPass){alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙ„Ø·");return;}
document.getElementById("adminPanel").style.display="block";
loadApps();
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
function loadApps(){
let panel=document.getElementById("adminPanel");
panel.innerHTML="<h3>Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h3>";
for(let key in applications){
let app = applications[key];
let pendingText = (app.status==="pending")?`<span class="pending">â³ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</span>`:app.status;
panel.innerHTML+=`<div class="application"><b>${key}</b><br>${app.reason}<br>Ø§Ù„Ø­Ø§Ù„Ø©: ${pendingText}<br>
<button class="accept" onclick="updateStatus('${key}','accepted')">Ù‚Ø¨ÙˆÙ„</button>
<button class="reject" onclick="updateStatus('${key}','rejected')">Ø±ÙØ¶</button></div>`;
}
}

// ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
function updateStatus(name,status){
applications[name].status=status;
applications[name].time=Date.now(); // ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø§Ù„Ù‚Ø±Ø§Ø±
localStorage.setItem("applications", JSON.stringify(applications));
loadApps();
}
</script>
</body>
</html>
